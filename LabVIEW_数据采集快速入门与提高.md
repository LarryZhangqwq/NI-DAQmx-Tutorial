#  LabVIEW—数据采集快速入门与提高

## 1. 数据采集系统概述

* 数据采集系统包含：

  * 原始信号

  * 信号调理设备（放大、滤波）
  * 数据采集设备
  * 上位机

* 数据采集平台：

  * PXI平台 - 模块化、可拓展、利用最新商业技术
  * C系列数据采集产品CDAQ - 使用USB连接，体积小、功耗小
  * C系列数据采集产品cRIO - 配置了实时处理器和可重配置的FPGA资源（可以脱离PC机），体积小、功耗小
  * PCI，USB产品

## 2. 安装NI-DAQmx驱动

* 安装NI-DAQmx驱动的方法：
  * NI Device Drivers DVD
  * NI-DAQmx DVD
  * ni.com/downloads/products

## 3. 配置管理软件NI-MAX

* NI-max实现的三个功能：
  * 识别和检测NI硬件
  * 无需编程完成数据采集任务
  * 创建数据采集任务，导入LabVIEW自动生成代码
* NI-MAX面板信息
  * 所有安装的软件：我的系统 ---> 软件
  * 已经创建的任务：我的系统 ---> 数据邻居
  *  外界的设备：我的系统 ---> 设备和接口
  * 外接设备的信息：右键某个设备
  * 设备仿真：右键“设备和接口” ---> 仿真NI-DAQmx设备或模块化仪器
* 无需编程完成数据采集任务
  * 选择设备 ---> 工具栏选择“测试面板”
  * 右键设备 ---> 创建任务 ---> 选择数据采集模式 ---> 各种设置

## 4. 硬件选型关注的参数

* 通道数是多少？
  * 选择有足够通道数的DAQ设备
* 测量的最大最小值
  * 选择正确输入范围的DAQ设备
* 采样或生成信号的分辨率是多少
  * 有足够高采样率的DAQ设备
  * 采样需要考虑的几个问题：
    * 实际模拟输入信号是随时间连续的，采样信号是用指定采样速率量化模拟信号得到的一系列离散的点
    * Nyquist定理：**为了准去获取信号的频率信息，采样频率必须大于信号的最大频率的两倍**，**为了准去获取信号的波形信息，采样频率必须大于信号的最大频率的5-10倍**
* 需要检测的最小信号变化是多少
  * 选择有正确编码宽度的DAQ设备
  * 计算编码宽度需要：
    * 分辨率
      * 表示信号ADC位数
      * 分辨率决定了可测量的电压的变化值
      * 更高的分辨率 = 更精确的表达信号
      * 3位分辨率可以表示2^3^ = 8个电压阶数
      * 16位分辨率可以表示2^16^ = 65536个电压阶数
      * 电压的变化曲线更加平滑
    * 设备输入范围
    * 编码宽度 = 设备输入范围 / 2^分辨率^
    * 更小的编码宽度 = 更精确的表达信号
* 测量的误差要求是多少
  * 确保DAQ设备有合适的绝对精度
  * 编码宽度 ！= 精度
  * 影响精度的误差源
    * 来自放大器和ADC的增益误差和偏置误差
    * 系统噪声
  * 查看DAQ设备的产品规范手册

## 5. 信号的连接方式

* 接地注意事项
  * 为了正确的测量结果，必须对系统正确姐弟
  * 信号的接地方式将影响DAQ设备上的仪用放大器的接地方式
  * 正确的系统接地步骤：
    * 确定信号如何接地
    * 为测量系统选择接地模式
  * 信号的接地方式：
  * ![截屏2022-06-02 上午10.30.13](Image_for_数据采集/截屏2022-06-02 上午10.30.13.png)
  * ![截屏2022-06-02 上午10.31.29](Image_for_数据采集/截屏2022-06-02 上午10.31.29.png)
  * 系统的接地方式：
  * ![截屏2022-06-02 上午10.33.37](Image_for_数据采集/截屏2022-06-02 上午10.33.37.png)
  * ![截屏2022-06-02 上午10.34.37](Image_for_数据采集/截屏2022-06-02 上午10.34.37.png)
  * 👆会导致可用通道减半，但是可以有效抑制共模电压和噪声
  * ![截屏2022-06-02 上午10.36.05](Image_for_数据采集/截屏2022-06-02 上午10.36.05.png)
  * ![截屏2022-06-02 上午10.36.44](Image_for_数据采集/截屏2022-06-02 上午10.36.44.png)
  * ![截屏2022-06-02 上午10.37.20](Image_for_数据采集/截屏2022-06-02 上午10.37.20.png)
  * ![截屏2022-06-02 上午10.37.56](Image_for_数据采集/截屏2022-06-02 上午10.37.56.png)
  * ![截屏2022-06-02 上午10.38.58](Image_for_数据采集/截屏2022-06-02 上午10.38.58.png)
  * ![截屏2022-06-02 上午10.39.17](Image_for_数据采集/截屏2022-06-02 上午10.39.17.png)

## 6. NI数据采集篇

* 根据手上不同的采集卡，可以去官网查看用户手册

## 7. USB-6001功能测试

* 
* 
